<?xml version="1.0" encoding="UTF-8"?>
<!-- =====================================================================================
|
|     $Source: Site.ecschema.xml $
|
|  $Copyright: (c) 2017 Bentley Systems, Incorporated. All rights reserved. $
|
======================================================================================= -->
<ECSchema schemaName="Site" nameSpacePrefix="site" version="01.00" xmlns="http://www.bentley.com/schemas/Bentley.ECXML.3.0">
    <ECSchemaReference name="Bentley_Standard_CustomAttributes" version="01.10" prefix="bsca" />
    <ECSchemaReference name="EditorCustomAttributes" version="01.00" prefix="beca" />
    <ECSchemaReference name="BisCore" version="01.00" prefix="bis" />
    <ECSchemaReference name="Functional" version="01.00" prefix="func" />
    <ECSchemaReference name="ConstraintModel" version="01.00" prefix="cml"/>
    <ECSchemaReference name="RoadRailPhysical" version="01.00.00" prefix="rrp"/>
    <ECSchemaReference name="BuildingSpacePlanning" version="01.00" prefix="bsp"/>

    <ECEntityClass typeName="Site" displayLabel="Site">
        <BaseClass>bis:SpatialLocationElement</BaseClass>
        <BaseClass>bis:ISubModeledElement</BaseClass>
        <BaseClass>bsp:IAllocation</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="BuildableVolume" displayLabel="BuildableVolume">
        <BaseClass>bis:VolumeElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECRelationshipClass typeName="BuildableVolumeOffsetsFromSite" strength="referencing">
        <BaseClass>bis:ElementRefersToElements</BaseClass>
        <Source cardinality="(1,1)" polymorphic="true">
            <!-- if a buildableVolume exists-->
            <Class class="BuildableVolume"/>
        </Source>
        <Target cardinality="(1,1)" polymorphic="true">
            <!-- It was offset from a site-->
            <Class class="Site"/>
        </Target>
        <ECArrayProperty propertyName="Offsets" typeName="double" minOccurs="0" maxOccurs="unbounded"/>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="BuildableVolumeConstrainsBuilding" strength="referencing">
        <BaseClass>bis:ElementDrivesElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
        <Source cardinality="(0,N)" polymorphic="true">
            <Class class="BuildableVolume"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="bsp:Building"/>
        </Target>
    </ECRelationshipClass>

    <ECEntityClass typeName="ParkingArea" displayLabel="ParkingArea">
        <BaseClass>bis:SpatialLocationElement</BaseClass>
        <BaseClass>bis:ISubModeledElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
        <ECProperty propertyName="Area" displayLabel="Area" typeName="double"/>
        <ECProperty propertyName="DisturbedArea" displayLabel="Disturbed Area" typeName="double"/>
        <ECProperty propertyName="DisturbedTopsoilCut" displayLabel="Disturbed Topsoil Cut" typeName="double"/>
        <ECProperty propertyName="DisturbedTopsoilFill" displayLabel="Disturbed Topsoil Fill" typeName="double"/>
        <ECProperty propertyName="EarthCut" displayLabel="Earth Cut" typeName="double"/>
        <ECProperty propertyName="Fill" displayLabel="Fill" typeName="double"/>
        <ECProperty propertyName="ImperviousSurface" displayLabel="Impervious Surface" typeName="double"/>
        <ECProperty propertyName="Lots" displayLabel="Lots" typeName="int"/>
        <ECProperty propertyName="Spaces" displayLabel="Spaces" typeName="int"/>
        <ECProperty propertyName="Islands" displayLabel="Islands" typeName="int"/>
        <ECProperty propertyName="ParkingAngle" displayLabel="Parking Angle" typeName="double"/>
        <ECProperty propertyName="BayCurbRadius" displayLabel="Bay Curb Radius" typeName="double"/>
        <ECProperty propertyName="IslandCurbRadius" displayLabel="Island Curb Radius" typeName="double"/>
        <ECProperty propertyName="AisleWidth" displayLabel="Aisle Width" typeName="double"/>
        <ECProperty propertyName="ParkingDepth" displayLabel="Parking Depth" typeName="double"/>
        <ECProperty propertyName="ParkingWidth" displayLabel="Parking Width" typeName="double"/>
        <ECProperty propertyName="ParkingPerIsland" displayLabel="Parking per Island" typeName="int"/>
    </ECEntityClass>

    <ECEntityClass typeName="ParkingLot" displayLabel="ParkingLot">
        <BaseClass>bis:SpatialLocationElement</BaseClass>
        <BaseClass>bis:ISubModeledElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="ParkingIsland" displayLabel="ParkingIsland">
        <BaseClass>bis:SpatialLocationElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="UserDefinedParkingIsland" displayLabel="User defined parking island">
        <BaseClass>bis:SpatialLocationElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="ParkingSpace" displayLabel="ParkingSpace">
        <BaseClass>bis:SpatialLocationElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECEntityClass typeName="SpaceDivider" displayLabel="Space divider">
        <BaseClass>bis:SpatialLocationElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECRelationshipClass typeName="SpaceDividerBoundsParkingSpace" strength="referencing">
        <BaseClass>bis:ElementRefersToElements</BaseClass>
        <Source cardinality="(0,N)" polymorphic="false">
            <Class class="SpaceDivider"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="false">
            <Class class="ParkingSpace"/>
        </Target>
    </ECRelationshipClass>

    <ECEntityClass typeName="ParkingAreaDriver" displayLabel="Parking area driver">
        <BaseClass>bis:InformationRecordElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
    </ECEntityClass>

    <ECRelationshipClass typeName="ParkingAreaDriverDrivesParkingArea" strength="referencing">
        <BaseClass>bis:ElementDrivesElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00" />
        </ECCustomAttributes>
        <Source cardinality="(0,1)" polymorphic="true">
            <Class class="ParkingAreaDriver"/>
        </Source>
        <Target cardinality="(0,1)" polymorphic="true">
            <Class class="ParkingArea"/>
        </Target>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="BuildingImprintsOnParkingArea" strength="referencing">
        <BaseClass>bis:ElementDrivesElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
        <Source cardinality="(0,N)" polymorphic="true">
            <Class class="bsp:Building"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="ParkingAreaDriver"/>
        </Target>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="RoadwayEntersParkingArea" strength="referencing">
        <BaseClass>bis:ElementDrivesElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
        <Source cardinality="(0,N)" polymorphic="true">
            <Class class="rrp:Roadway"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="ParkingAreaDriver"/>
        </Target>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="SiteBoundsParkingArea" strength="referencing">
        <BaseClass>bis:ElementDrivesElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
        <Source cardinality="(1,1)" polymorphic="true">
            <Class class="Site"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="ParkingAreaDriver"/>
        </Target>
    </ECRelationshipClass>

    <ECRelationshipClass typeName="UserDefinedParkingIslandDrivesParkingArea" strength="referencing">
        <BaseClass>bis:ElementDrivesElement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
        <Source cardinality="(0,N)" polymorphic="true">
            <Class class="UserDefinedParkingIsland"/>
        </Source>
        <Target cardinality="(0,N)" polymorphic="true">
            <Class class="ParkingAreaDriver"/>
        </Target>
    </ECRelationshipClass>

    <ECEntityClass typeName="FunctionalSite" displayLabel="Site">
        <BaseClass>bsp:AllocationRequirement</BaseClass>
        <ECCustomAttributes>
            <ClassHasHandler xmlns="BisCore.01.00"/>
        </ECCustomAttributes>
    </ECEntityClass>
</ECSchema>
