<?xml version="1.0" encoding="utf-8"?>
<BuildContext xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../bsicommon/build/PartFile.xsd">

    <Part Name="Core" BentleyBuildMakeFile="Domains/Core/prewire.mke">
        <SubPart PartName="StandardSchemasV3" PartFile="ECStandards"  Repository="ECStandards"/>
        <SubPart PartName="PublicAPI" PartFile="iModelNativeCore/ECDb/ECDb" Repository="iModelNative"/>
        <Bindings>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Dgn" SubPartDirectory="ECSchemas/Dgn">
                ECSchemas/BisCore.ecschema.xml
                ECSchemas/Generic.ecschema.xml
                ECSchemas/Markup.ecschema.xml
            </Files>
            <Files ProductDirectoryName="Assets" ProductSubDirectory="ECSchemas/Domain" SubPartDirectory="ECSchemas/Domain">
                ECSchemas/Functional.ecschema.xml
                ECSchemas/PhysicalMaterial.ecschema.xml
            </Files>
        </Bindings>
    </Part>

    <!-- This part is intended to be a wrap up of all BIS schemas. Used for BIS Schema Validation -->
    <Part Name="BisSchemas">
        <SubPart PartName="Core"/>

        <!-- Below are the BisSchemas are currently read-only within this repository. This should shortened as teams move their schemas to only live here. -->
        <SubPart PartName="PublicAPI"                   PartFile="Planning"             Repository="DgnDomains-Planning"/>
        <SubPart PartName="PublicAPI"                   PartFile="ConstructionSchema"   Repository="ConstructionSchema"/>
        <SubPart PartName="PublicAPI"                   PartFile="Costing"              Repository="DgnDomains-Costing"/>
        <SubPart PartName="GistSchema"                  PartFile="Gist"                 Repository="Gist"/>
        <SubPart PartName="PublicAPI"                   PartFile="BridgePhysical"       Repository="DgnDomains-BridgePhysical"/>
        <SubPart PartName="PublicAPI"                   PartFile="RoadRailPhysical"     Repository="DgnDomains-RoadRailPhysical"/>
        <SubPart PartName="AecUnitsPublicAPI"           PartFile="AecUnits"             Repository="DgnDomains-DesignModelingUnits"/>
        <SubPart PartName="PublicAPI"                   PartFile="LinearReferencing"    Repository="DgnDomains-LinearReferencing"/>
        <SubPart PartName="PublicAPI"                   PartFile="RoadRailAlignment"    Repository="DgnDomains-RoadRailAlignment"/>
        <SubPart PartName="PlantDomainSchemas"          PartFile="PlantDomain"          Repository="DgnDomains-Plant"/>
        <SubPart PartName="DataCaptureSchemasPublicAPI" PartFile="RealityModeling"      Repository="DgnDomains-RealityModeling"/>
        <SubPart PartName="ScalableMeshSchemaPublicAPI" PartFile="RealityModeling"      Repository="DgnDomains-RealityModeling"/>
        <SubPart PartName="RasterPublicAPI"             PartFile="RealityModeling"      Repository="DgnDomains-RealityModeling"/>
        <SubPart PartName="PointCloudPublicAPI"         PartFile="RealityModeling"      Repository="DgnDomains-RealityModeling"/>
        <SubPart PartName="ThreeMxPublicAPI"            PartFile="RealityModeling"      Repository="DgnDomains-RealityModeling"/>
        <SubPart PartName="PublicAPI"                   PartFile="iModelNativeCore/ECDb/ECDb"                 Repository="iModelNative"/>
        <SubPart PartName="ECObjectsSchema"             PartFile="iModelSchemaEditor"   Repository="iModelSchemaEditorCore"/>
        <SubPart PartName="GridsSchema"                 PartFile="Grids"                Repository="DgnDomains-Grids" />
        <SubPart PartName="ConstraintModelSchema"       PartFile="ConstraintSystem"     Repository="DgnDomains-ConstraintSystem" />
        <SubPart PartName="SiteSchema"                  PartFile="Site"                 Repository="DgnDomains-Site" />
        <SubPart PartName="SpacePlanningSchema"         PartFile="BuildingSpacePlanning"    Repository="DgnDomains-BuildingSpacePlanning" />
        <SubPart PartName="BuildingPhysicalPublicAPI"   PartFile="BuildingDomains"          Repository="DgnDomains-Building" />
        <SubPart PartName="StructuralDomainPublicAPI"   PartFile="StructuralDomains"        Repository="DgnDomains-Structural" />
        <SubPart PartName="ElectricalPhysicalPublicAPI" PartFile="ElectricalDomains"        Repository="DgnDomains-Electrical" />
        <SubPart PartName="ProfilesDomainPublicAPI"     PartFile="ProfilesDomain"           Repository="DgnDomains-Profiles" />
        <SubPart PartName="FormsDomainPublicAPI"        PartFile="FormsDomain"              Repository="DgnDomains-Forms" />
    </Part>

    <!-- *************************************** -->
    <!-- ***** Bis Schema Validation Tests ***** -->
    <!-- *************************************** -->

    <Product Name="BisSchemasValidation" SaveProduct="true" PrgOutputDir="AllBisSchemas">
        <Directories DirectoryListName="AllBisSchemas-Directories"/>
        <Directories DirectoryListName="SchemaValidator" Repository="iModelNative" PartFile="iModelNativeCore/ecobjects/ECObjects" />
        <Directories DirectoryListName="ECObjects" Repository="iModelNative" PartFile="iModelNativeCore/ecobjects/ECObjects" />
        <SubPart PartName="BisSchemas" />
        <SubPart PartName="SchemaValidator" PartFile="iModelNativeCore/ecobjects/ECObjects" Repository="iModelNative" />
        <SubPart PartName="ValidateSchemas"/>
    </Product>

    <Part Name="ValidateSchemas" BentleyBuildMakeFile="tools/SchemaValidation/SchemaValidatorSetup.mke" OnlyPlatforms="x64">
        <SubPart PartName="BisSchemas" />
        <SubPart PartName="V3_1ValidationSchemas" PartFile="ECStandards" Repository="ECStandards"/>
        <SubPart PartName="SchemaValidator" PartFile="iModelNativeCore/ecobjects/ECObjects" Repository="iModelNative" />
    </Part>

    <ProductDirectoryList ListName="AllBisSchemas-Directories">
        <ProductDirectory Name="Assets" Path=""/>
        <ProductDirectory Name="Assets" Path="" LibType="static"/>
        <ProductDirectory Name="PlantDomainSchemasDir" Path="Assets/ECSchemas/Domain"/>
        <ProductDirectory Name="Assemblies" Deliver="false"/>
        <ProductDirectory Name="StructuralDomainIncludes" Deliver="false"/>
        <ProductDirectory Name="ElectricalDomainIncludes" Deliver="false"/>
        <ProductDirectory Name="BuildingDomainIncludes" Deliver="false"/>
        <ProductDirectory Name="ProfilesDomainIncludes" Deliver="false"/>
        <ProductDirectory Name="FormsDomainIncludes" Deliver="false"/>
    </ProductDirectoryList>

</BuildContext>